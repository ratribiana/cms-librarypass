<div class="row">
  <div class="offset-md-1 col-md-10">

    <div>
      <input (change)="filterbyLibraryName($event)" type="text" autocomplete="none" class="form-control col-7 col-md-4 float-left"
        placeholder="Search Child Institution">
      <button type="button" class="btn btn-outline-dark">Search</button>    
    </div>

    <div *ngIf="!dataLoaded" class="text-center mt-4">
      <div class="spinner-border text-primary" role="status">
        <span class="sr-only">Loading...</span>
      </div>
    </div>

    <!-- <div class="col-12" style="margin-top: 30px;">
      <table class="table table-striped table-hover library-reports-table col-sm-12">
        <thead>
          <th> Id </th>
          <th> Name </th>
          <th> Parent Billing </th>
          <th> Parent Services </th>
          <th> Parent Auth </th>
          <th> Active </th>
        </thead>
        <tbody>
          <tr
            *ngFor="let library of libraries | async | paginate: { id: 'activity_report_paging', itemsPerPage: limit, currentPage: page, totalItems: total }">
            <td>
              <a href="/libraries/{{ library['id'] }}">{{ library['id'] }}</a>
            </td>
            <td>
              <a href="/libraries/{{ library['id'] }}">{{ library['name'] }}</a>
            </td>
            <td> <input type="checkbox"class="form-check-input position-static" [checked]="library['parent_billing'] == 1" disabled> </td>
            <td> <input type="checkbox"class="form-check-input position-static" [checked]="library['parent_services'] == 1" disabled> </td>
            <td> <input type="checkbox"class="form-check-input position-static" [checked]="library['parent_authentication'] == 1" disabled> </td>
            <td> <input (click)="updateLibraryStatus($event, library['id'])" type="checkbox"
              class="form-check-input position-static" [checked]="library['active'] == 1"> </td>
          </tr>
        </tbody>
      </table>
    </div> -->

    <div class="col-12" style="margin-top: 30px;">
      <div class="table-wrap">
        <div class="table table-striped table-hover library-reports-table">
          <div class="thead">
            <div class="th">Id</div>
            <div class="th">Name</div>
            <div class="th">Billing</div>
            <div class="th">Services</div>
            <div class="th">Auth</div>
            <div class="th">Collection</div>            
            <div class="th">Active</div>
          </div>

          <div class="tbody">
            <div class="tr" 
              *ngFor="let library of libraries | async | paginate: { id: 'activity_report_paging', itemsPerPage: limit, currentPage: page, totalItems: total }; let i = index">
              
              <a class="td-title collapsed" data-toggle="collapse" href=".item-collapse-{{i}}" role="button" aria-expanded="false" aria-controls="collapse">
                <span class="arrow"></span>{{ library['name'] }}
              </a>

              <div class="th collapse item-collapse item-collapse-{{i}}">Id</div>
              <div class="td collapse item-collapse item-collapse-{{i}}">
                <a href="/libraries/{{ library['id'] }}">{{ library['id'] }}</a>
              </div>

              <div class="th collapse item-collapse item-collapse-{{i}}">Name</div>
              <div class="td collapse item-collapse item-collapse-{{i}}">
                <a href="/libraries/{{ library['id'] }}">{{ library['name'] }}</a>
              </div>

              <div class="th collapse item-collapse item-collapse-{{i}}">Billing</div>
              <div class="td collapse item-collapse item-collapse-{{i}}">
                <input type="checkbox"class="form-check-input position-static" [checked]="library['parent_billing'] == 1" disabled>
              </div>

              <div class="th collapse item-collapse item-collapse-{{i}}">Services</div>
              <div class="td collapse item-collapse item-collapse-{{i}}">
                <input type="checkbox"class="form-check-input position-static" [checked]="library['parent_services'] == 1" disabled>
              </div>

              <div class="th collapse item-collapse item-collapse-{{i}}">Auth</div>
              <div class="td collapse item-collapse item-collapse-{{i}}">
                <input type="checkbox"class="form-check-input position-static" [checked]="library['parent_authentication'] == 1" disabled>
              </div>


              <div class="th collapse item-collapse item-collapse-{{i}}">Collection</div>
              <div class="td collapse item-collapse item-collapse-{{i}}">
                <input type="checkbox"class="form-check-input position-static" [checked]="library['parent_collection'] == 1" disabled>
              </div>

              <div class="th collapse item-collapse item-collapse-{{i}}">Active</div>
              <div class="td collapse item-collapse item-collapse-{{i}}">
                <label class="switch">
                  <input (click)="updateLibraryStatus($event, library['id'])" type="checkbox" class="form-check-input position-static" [checked]="library['active'] == 1"> 
                  <span class="slider round"></span>
                </label>
              </div>

            </div>
          </div>

        </div>
      </div>
    </div>

    <div class="col-12">
      <p class="total-checkout total-checkout-float">Total Institutions: {{total}}</p>
    </div>
    <div class="col-12 text-center">
      <pagination-controls  (pageChange)="getLibraryList($event, filter)" id="activity_report_paging" previousLabel="" nextLabel="">
      </pagination-controls>
    </div>

  </div>
</div>