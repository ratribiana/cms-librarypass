<div class="row">
  <div class="col-sm-12 offset-md-1 col-md-5">
    <form [formGroup]="createLibraryForm" (ngSubmit)="createLibrary($event);">

      <div class="form-group">

        <div class="d-sm-block d-md-inline-block mr-5">
          <div class="checkbox-wrap">
            <label class="checkbox checkbox-form-control">
              <input type="checkbox" class="btn-checkbox-all" id="active" formControlName="active">
              <span class="checkmark"></span>
            </label>
            <label class="checkbox-label" for="active"><strong>Account is Active</strong></label>
          </div>
        </div>

        <div class="d-sm-block d-md-inline-block mr-5">
          <div class="checkbox-wrap">
            <label class="checkbox checkbox-form-control">
              <input type="checkbox" class="btn-checkbox-all" id="test_library" formControlName="test_library">
              <span class="checkmark"></span>
            </label>
            <label class="checkbox-label" for="test_library"><strong>Test Institution</strong></label>
          </div>
        </div>

        <div class="d-sm-block d-md-inline-block mr-5">
          <div class="checkbox-wrap">
            <label class="checkbox checkbox-form-control">
              <input type="checkbox" class="btn-checkbox-all" id="trial_library" formControlName="trial_library">
              <span class="checkmark"></span>
            </label>
            <label class="checkbox-label" for="trial_library"><strong>Trial Institution</strong></label>
          </div>
        </div>
        
      </div>

      <div class="form-group">
        <div class="d-sm-block d-md-inline-block mr-5">
          <div class="checkbox-wrap">
            <label class="checkbox checkbox-form-control">
              <input type="checkbox" class="btn-checkbox-all" id="show_at_login" formControlName="show_at_login">
              <span class="checkmark"></span>
            </label>
            <label class="checkbox-label" for="show_at_login"><strong>Show at Login</strong></label>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="name">Name <span class="required-asterisk">*</span></label>
        <input type="text" formControlName="name" class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f.name.errors }" />
        <div *ngIf="submitted && f.name.errors" class="invalid-feedback">
          <div *ngIf="f.name.errors.required">Name is required</div>
        </div>
      </div>

      <div class="form-group">
        <label for="nickname">DNS </label>
        <input type="text" formControlName="nickname" class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f.nickname.errors }" />
        <code>Note: This will automatically create DNS.</code>
        <div *ngIf="submitted && f.nickname.errors" class="invalid-feedback">
          <div *ngIf="f.nickname.errors.required">DNS is required</div>
        </div>
      </div>

      <div class="form-group">
        <label for="parent_id">Parent Institution</label>
        <input type="hidden" formControlName="parent_id" name="parent_id" id="libraries_parent_id">
        <select class="libraries-parent-id form-control"></select>
      </div>

      <div class="form-group">
        <label for="email">Email <span class="required-asterisk">*</span></label>
        <input type="email" formControlName="email" class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f.email.errors }" />
        <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
          <div *ngIf="f.email.errors.email">Invalid Email format</div>
          <div *ngIf="f.email.errors.required">Email is required</div>
        </div>
      </div>


      <div class="form-group">
        <label for="address">Address 1 <span class="required-asterisk">*</span></label>
        <input type="text" formControlName="address" class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f.address.errors }" />
        <div *ngIf="submitted && f.address.errors" class="invalid-feedback">
          <div *ngIf="f.address.errors.required">Address is required</div>
        </div>
      </div>

      <div class="form-group">
        <label for="address_2">Address 2</label>
        <input type="text" formControlName="address_2" class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f.address_2.errors }" />
      </div>

      <div class="form-row">
        <div class="form-group col-md-5">
          <label for="city">City <span class="required-asterisk">*</span></label>
          <input type="text" formControlName="city" class="form-control"
            [ngClass]="{ 'is-invalid': submitted && f.city.errors }" />
          <div *ngIf="submitted && f.city.errors" class="invalid-feedback">
            <div *ngIf="f.city.errors.required">City is required</div>
          </div>
        </div>
        <div class="form-group col-md-4">
          <label for="state">State <span class="required-asterisk">*</span></label>
          <input type="text" formControlName="state" class="form-control"
            [ngClass]="{ 'is-invalid': submitted && f.state.errors }" />
          <div *ngIf="submitted && f.state.errors" class="invalid-feedback">
            <div *ngIf="f.state.errors.required">State required</div>
          </div>
        </div>

        <div class="form-group col-md-3">
          <label for="zip">Zip <span class="required-asterisk">*</span></label>
          <input type="text" formControlName="zip" class="form-control"
            [ngClass]="{ 'is-invalid': submitted && f.zip.errors }" />
          <div *ngIf="submitted && f.zip.errors" class="invalid-feedback">
            <div *ngIf="f.zip.errors.required">Zip is required</div>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="phone">Phone <span class="required-asterisk">*</span></label>
        <input type="text" formControlName="phone" class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f.phone.errors }" />
        <div *ngIf="submitted && f.phone.errors" class="invalid-feedback">
          <div *ngIf="f.phone.errors.required">Phone is required</div>
        </div>
      </div>

    <div class="form-group">
      <label for="website">Website</label>
      <input type="text" formControlName="website" class="form-control"
        [ngClass]="{ 'is-invalid': submitted && f.website.errors }" />
    </div>

    <div class="form-group checkbox-wrap">
      <label class="checkbox">
        <input type="checkbox" class="btn-checkbox-all" formControlName="show_patron_info">
        <span class="checkmark"></span>
      </label>
      <label class="checkbox-label" for="show_patron_info">Show Patron Info</label>
    </div>

    <div class="form-group checkbox-wrap">
      <label class="checkbox">
        <input type="checkbox" class="btn-checkbox-all" formControlName="social_sharing">
        <span class="checkmark"></span>
      </label>
      <label class="checkbox-label" for="social_sharing">Enable Social Sharing Buttons</label>
    </div>

    <div class="form-group">
      <label for="login_redirect">Login Redirect</label>

      <select class="form-control" formControlName="login_redirect">        
        <option [ngValue]="redirect_url.id" *ngFor="let redirect_url of redirect_urls">{{redirect_url.name}}</option>
      </select>
    </div>    

    <!-- <div class="form-group col-md-12">
      <label for="type">Library Type</label>
      <ng-multiselect-dropdown
          name="type"
          [placeholder]="'Select Library Type'"
          [data]="library_types"
          formControlName="type"          
          [settings]="dropdownSettings"
        >
      </ng-multiselect-dropdown>
    </div> -->

    <br>
    <div class="form-group">
      <button [disabled]="loading" class="btn btn-primary btn-aqua">Create Institution</button>
      <img *ngIf="loading" class="pl-2"
        src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
    </div>
  </form>
</div>